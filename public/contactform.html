<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Me</title>
</head>

<body>
    <div class="form-container" style="border:2px solid black">
        <form class="contact-form">
            <h2>Contact Me</h2>
            <input type="text" id="name" placeholder="Full name" />
            <input type="email" id="email" placeholder="Email address" />
            <input type="text" id="subject" placeholder="Subject" />
            <textarea id="message" placeholder="Message" rows="3"></textarea>
            <input type="submit" class="submit" value="Send Message" />
        </form>
    </div>



    <script>
        const contactForm = document.querySelector('.contact-form');

        let name = document.getElementById('name');
        let email = document.getElementById('email');
        let subject = document.getElementById('subject');
        let message = document.getElementById('message');

        contactForm.addEventListener('submit', (e) => {
            e.preventDefault();
            // console.log('submit clicked')
            let formData = {
                name: name.value,
                email: email.value,
                subject: subject.value,
                message: message.value
            }

            let xhr = new XMLHttpRequest();
            xhr.open('POST', '/');
            xhr.setRequestHeader('content-type', 'application/json');
            xhr.onload = function() {
                console.log(xhr.responseText);
                if (xhr.responseText == 'success') {
                    alert('email sent successfully');
                    name.value = '';
                    email.value = '';
                    subject.value = '';
                    message.value = '';
            } else {
                alert('something went wrong');
            }
        }
        xhr.send(JSON.stringify(formData))
    })



    </script>
</body>

</html>